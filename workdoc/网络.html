<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>网络基础知识 | Sfilata个人主页</title>
    <meta name="description" content="vuepress 创建的博客">
    <link rel="icon" href="/img/logo.ico">
  <link rel="manifest" href="/manifest.json">
    
    <link rel="preload" href="/assets/css/0.styles.3e1d0bd1.css" as="style"><link rel="preload" href="/assets/js/app.7c6eadb6.js" as="script"><link rel="preload" href="/assets/js/35.da253123.js" as="script"><link rel="prefetch" href="/assets/js/10.253ba2fb.js"><link rel="prefetch" href="/assets/js/11.3347358a.js"><link rel="prefetch" href="/assets/js/12.050e6f26.js"><link rel="prefetch" href="/assets/js/13.be1d5774.js"><link rel="prefetch" href="/assets/js/14.6e443ad2.js"><link rel="prefetch" href="/assets/js/15.bab50141.js"><link rel="prefetch" href="/assets/js/16.898b985d.js"><link rel="prefetch" href="/assets/js/17.66f93f03.js"><link rel="prefetch" href="/assets/js/18.4df4b297.js"><link rel="prefetch" href="/assets/js/19.6191b1b6.js"><link rel="prefetch" href="/assets/js/2.d97901c0.js"><link rel="prefetch" href="/assets/js/20.5e674396.js"><link rel="prefetch" href="/assets/js/21.f5ab4572.js"><link rel="prefetch" href="/assets/js/22.8ab87961.js"><link rel="prefetch" href="/assets/js/23.0d30c057.js"><link rel="prefetch" href="/assets/js/24.7f910bca.js"><link rel="prefetch" href="/assets/js/25.06470792.js"><link rel="prefetch" href="/assets/js/26.f939a4ad.js"><link rel="prefetch" href="/assets/js/27.0ee1195b.js"><link rel="prefetch" href="/assets/js/28.9ef42fca.js"><link rel="prefetch" href="/assets/js/29.ed719ab2.js"><link rel="prefetch" href="/assets/js/3.d933960b.js"><link rel="prefetch" href="/assets/js/30.bce4c772.js"><link rel="prefetch" href="/assets/js/31.1f4c6cf3.js"><link rel="prefetch" href="/assets/js/32.2f935753.js"><link rel="prefetch" href="/assets/js/33.561105af.js"><link rel="prefetch" href="/assets/js/34.99ec05ac.js"><link rel="prefetch" href="/assets/js/36.94aede1c.js"><link rel="prefetch" href="/assets/js/37.ace73c7a.js"><link rel="prefetch" href="/assets/js/38.9a15a9f4.js"><link rel="prefetch" href="/assets/js/39.2867ffd2.js"><link rel="prefetch" href="/assets/js/4.8312751b.js"><link rel="prefetch" href="/assets/js/5.c97b75fb.js"><link rel="prefetch" href="/assets/js/6.e0f41b00.js"><link rel="prefetch" href="/assets/js/7.e0e02e4a.js"><link rel="prefetch" href="/assets/js/8.ccd465f6.js"><link rel="prefetch" href="/assets/js/9.8b45c610.js">
    <link rel="stylesheet" href="/assets/css/0.styles.3e1d0bd1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Sfilata个人主页</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">博文</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/workdoc/" class="nav-link router-link-active">React</a></li><li class="dropdown-item"><!----> <a href="/vue/" class="nav-link">Vue</a></li><li class="dropdown-item"><!----> <a href="/web/" class="nav-link">Web</a></li></ul></div></div><div class="nav-item"><a href="/about.html" class="nav-link">关于</a></div><div class="nav-item"><a href="/contact.html" class="nav-link">联系我</a></div><div class="nav-item"><a href="https://www.github.com/sfilata" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">博文</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/workdoc/" class="nav-link router-link-active">React</a></li><li class="dropdown-item"><!----> <a href="/vue/" class="nav-link">Vue</a></li><li class="dropdown-item"><!----> <a href="/web/" class="nav-link">Web</a></li></ul></div></div><div class="nav-item"><a href="/about.html" class="nav-link">关于</a></div><div class="nav-item"><a href="/contact.html" class="nav-link">联系我</a></div><div class="nav-item"><a href="https://www.github.com/sfilata" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/workdoc/" class="sidebar-link">Home</a></li><li><a href="/workdoc/VsCode.html" class="sidebar-link">VScode常用配置以及使用技巧</a></li><li><a href="/workdoc/Vue.html" class="sidebar-link">接口管理与Mock</a></li><li><a href="/workdoc/Code.html" class="sidebar-link">常用代码整理</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="网络基础知识"><a href="#网络基础知识" aria-hidden="true" class="header-anchor">#</a> 网络基础知识</h1> <p>相关文章: [[Node.js 介绍]] [[Node.js 原理详解]]</p> <h2 id="课程目标"><a href="#课程目标" aria-hidden="true" class="header-anchor">#</a> 课程目标</h2> <ul><li>了解 TCP/IP 协议, 熟悉 OSI 模型</li> <li>熟悉 HTTP 相关知识</li></ul> <h2 id="知识要点"><a href="#知识要点" aria-hidden="true" class="header-anchor">#</a> 知识要点</h2> <h3 id="tcp-ip-网络协议"><a href="#tcp-ip-网络协议" aria-hidden="true" class="header-anchor">#</a> TCP/IP 网络协议</h3> <h4 id="osi-七层模型"><a href="#osi-七层模型" aria-hidden="true" class="header-anchor">#</a> OSI 七层模型</h4> <ul><li>第七层：应用层 为操作系统或者网络应用程序提供访问网络服务的接口
举例: HTTP HTTPS SMTP POP3 SSH</li> <li>第六层：表示层 压缩以及格式转换，不涉及过多的协议</li> <li>第五层：会话层 负责设置和维持网络设备之间的连接</li> <li>第四层：传输层 把传输表头加到数据包上，完成端到端的数据传输
举例：TCP UDP</li> <li>第三层：网络层 负责对子网间的数据包进行寻址和路由选择，可以实现拥塞控制、网际互联等功能。
举例： IP</li> <li>第二层：数据链路层 物理地址寻址</li> <li>第一层：物理层 在局域网进行数据传输，负责电脑通信设备与网络设备之间的连接</li></ul> <ol><li>牛客网视频面试采用的是 UDP 协议，用来保证传输数据的实时性，没有办法保证数据的正确完整性</li> <li>路由器是在网络层，交换机是在数据链路层，网卡，光纤等设备在物理层</li> <li>HTML 属于应用层协议</li> <li>协议是什么？协议定义了每一层的指责和作用是什么，类似于规范和约束</li> <li>TCP/IP 网络协议大部分时候是指互联网通信所需的以 TCP/IP 协议为核心的所有协议族</li> <li>TCP/IP 参考模型是区别于 OSI 七层模型的另一种划分方式。把所有的协议都归为 4 层模型。</li></ol> <ul><li>应用层</li> <li>传输层</li> <li>网络层</li> <li>链路层</li></ul> <ol start="7"><li>常说的数据包是什么东西？网络层及以上三层中，数据的单位。</li></ol> <p>每个分层都会对发送的数据添加一个首部，首部包含了盖层协议相关的信息，而真正需要发送的内容称之为数据。
对于下层来说，上层发过来的所有内容都会被当作为本层的数据。</p> <p>传输层：TCP 包：TCP 包首部 + 数据
网络层：IP 包：IP 包首部 + (TCP 包首部 + 数据)
数据链路层：以太网包: 以太网包首部+ (IP 包首部 + (TCP 包首部 + 数据))
...</p> <ol start="8"><li>每层在接收到数据后，处理添加首部，还要做什么？
每层协议需要做的工作都各不相同</li></ol> <p>发送端：</p> <ul><li><p>传输层: 通过添加 TCP 首部，来保证数据的可靠性传输</p></li> <li><p>网络层：参考路由控制表，决定接收此 IP 包的路由和朱局</p></li> <li><p>数据链路层：将生成的包通过物理层传输给接收端</p></li> <li><p>数据链路层: 接收到数据后，判断数据是否是发送自己的 MAC 地址</p></li> <li><p>网络层：从首部里判断此 IP 是否和自己的当前 IP 相匹配</p></li> <li><p>传输层：检查端口号</p></li></ul> <p>上述网络协议中涉及到的地址主要有:</p> <ul><li>数据链路层中涉及到的 MAC 地址，用来识别同一链路中不同的计算机</li> <li>网络层中的 IP 地址，用来识别 TCP/IP 网络中互联的主机和路由器</li> <li>传输层中的端口号，应用程序地址，识别同一主机中进行通信的不同应用程序</li></ul> <ol start="9"><li>通过上述三个地址是否就可以识别一次通信了？
没有办法确认。</li></ol> <ul><li>IP 首部：还需要区分源 IP 地址和目标 IP 地址</li> <li>协议号：指的是 TCP 或者 UDP</li> <li>TCP 首部：源端口号，目标端口号</li></ul> <ol start="10"><li>UDP 以及 TCP 经常使用到的场景以及区别</li></ol> <ul><li>UDP 是无连接的，TCP 必须通过三次握手建立连接，通过四次挥手断开连接</li> <li>UDP 是面向报文的，没有拥塞控制，所以速度款，适合多媒体通信传输 (实时性，对数据要求不是很高)</li> <li>TCP 只能是一对一的可靠性传输</li></ul> <p>市面上常见的直播服务，底层是什么协议？
rtmp 和 hls 直播都是基于 TCP 的，希望能提供稳定可靠的直播环境</p> <ol start="11"><li>TCP 是通过什么方式提供可靠性的？</li></ol> <ul><li>超时重发：发出的报文段只要没有受到及时的确认就会重发</li> <li>数据校验：校验首部数据头，只要校验失败就会丢弃</li> <li>数据重排：会对失去顺序的数据进行重新排序</li> <li>流量控制: 防止缓存区的溢出</li> <li>快重传和快恢复</li> <li>TCP 会将数据截断为合理的长度</li></ul> <ol start="12"><li>TCP 是如何进行拥塞控制的？</li></ol> <p>为了防止过多的数据注入到网络层中，造成路由器或者链路过载
发送方会维持一个拥塞窗口，是一个状态变量。cwnd</p> <p>ssthresh 慢开始门限</p> <p>cwnd &lt; ssthresh 使用慢开始算法，也就是乘法算法
cwnd &gt; ssthresh 使用拥塞避免算法，也就是加法算法
cwnd = ssthresh 使用两者其一，不固定</p> <p>当出现拥塞的情况：
把门限值设置为当前的一半</p> <p>当连续收到 3 个重传的时候, 使用快重传和快恢复</p> <ol start="13"><li><p>TCP 协议的一次数据传输，从建立连接到断开连接需要经历哪些过程？</p></li> <li><p>IP 地址</p></li></ol> <p>IPv4 是由 32 位正整数表示的, 二进制。日常使用中会将地址转换为 4 个 8 位二进制</p> <p>172.2.2.22
172.2.2 是网络表示，标识是否在同一网段
22 是主机标识，同一网段内的主机标识不能重复</p> <p>IPv6 是由 256 位正整数表示的，二进制。日常使用中会将地址转换为 8 个 2 位 16 进制</p> <ol start="15"><li>DNS (domain name system)</li></ol> <p><strong>doc.baidu.com</strong></p> <ul><li>客户端 query =&gt; doc.baidu.com =&gt; dns 服务器 (首先会检查自己的缓存，如果存在记录则直接返回)</li> <li>DNS 服务器 =&gt; 根域名服务器(返回顶级域名服务器地址.com)</li> <li>DNS 服务器 =&gt; 查询顶级域名服务器(.com) =&gt; 二级域名服务器(baidu.com)权威域名服务器</li> <li>DNS 服务器 =&gt; 查询二级域名服务器(.baidu.com) =&gt; 查询到目标域名的地址(doc.baidu.com)</li> <li>DNS 服务器 =&gt; 缓存结果并返回给客户端</li></ul> <h4 id="如何通过-nodejs-来创建一个-tcp-服务"><a href="#如何通过-nodejs-来创建一个-tcp-服务" aria-hidden="true" class="header-anchor">#</a> 如何通过 NodeJs 来创建一个 TCP 服务</h4> <p>Socket(套接字): 是应用层和传输层直接的一个抽象层，把 TCP/IP 复杂的操作通过抽象为应用层提供 API。</p> <p>用来实现进程在网络间的通信</p> <p>http: 应用层模块，主要按照特定协议编解码数据
net: 传输层模块，主要负责传输编码后的应用层数据
https: 包含 http crypto, 主要是确保数据的安全性</p> <h3 id="http"><a href="#http" aria-hidden="true" class="header-anchor">#</a> HTTP</h3> <p>HTTP 是建立在 TCP 协议之上的超文本传输协议。</p> <p>一次完成的 HTTP 通信过程大概如下:</p> <ol><li>建立 TCP 连接, 才能建立接下来的 HTTP 连接</li> <li>客户端向服务端发送请求命令
GET Info</li> <li>客户端发送请求头信息</li> <li>服务端应答</li> <li>服务端返回相应头信息</li> <li>服务端向客户端发送数据</li> <li>服务器关闭 TCP 连接
Connection: keep-alive,</li></ol> <h4 id="http-协议都有哪些特点"><a href="#http-协议都有哪些特点" aria-hidden="true" class="header-anchor">#</a> HTTP 协议都有哪些特点</h4> <ol><li>通过请求和响应的交换达成通信</li> <li>连接都是无状态的</li> <li>通过 Cookie 来实现状态管理
Set-Cookie 用于服务端向客户端种入 Cookie</li> <li>通过 URL 定位资源
URI: 同一资源标识符, 比如身份证号
URL: 统一资源定位符, 比如地址</li></ol> <p>URI 是一个抽象类，它规定实体类需要实现找到资源的功能
URL 是一个 URI 的实现，通过定位来实现 URI 的接口</p> <ol start="5"><li><p>通过各种方法来标识自己的意图
GET POST PUT UPDATE DELETE PATCH HEAD</p></li> <li><p>持久连接
GTTP/1.1 所有的请求都是默认持久性的</p></li></ol> <p>不需要持久性的请求可以设置 Connection: false</p> <ol start="7"><li>管道机制</li></ol> <p>支持在同一个 TCP 连接里，客户端可以同时发送多个请求</p> <p>因为响应是有顺序的，如果开始的请求特别慢，会阻塞后面的请求。所以会造成队头拥塞。</p> <p>在 HTTP1.1 中,Chrome 浏览器最多同时支持开启 6 个 TCP 请求。但每个 TCP 请求最多支持同时发送一个请求.</p> <h4 id="http-1-0-1-1-2-0-在并发请求上的主要区别是什么"><a href="#http-1-0-1-1-2-0-在并发请求上的主要区别是什么" aria-hidden="true" class="header-anchor">#</a> HTTP 1.0/1.1/2.0 在并发请求上的主要区别是什么?</h4> <ol><li>HTTP 1.0 每个 TCP 连接只能发送一个请求，当服务器响应后就会关闭这个 TCP 连接，下次请求会重新建立连接</li> <li>HTTP 1.1 TCP 连接默认是持久连接，增加了管道机制,每个 TCP 连接可以同时发送多个请求</li> <li>HTTP 2.0 加入了双工模式，不仅客户端能够同时发送多个请求，服务端也能同时响应多个请求，解决了队头阻塞问题。
多路复用，做到了一个连接可以并发处理多个请求，并发请求的数量比 1.1 增加了好几个数量级
增加了服务器推送功能，服务器可以主动向客户端发送数据</li></ol> <h2 id="补充知识点"><a href="#补充知识点" aria-hidden="true" class="header-anchor">#</a> 补充知识点</h2></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">11/5/2021, 5:23:34 PM</span></div></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/app.7c6eadb6.js" defer></script><script src="/assets/js/35.da253123.js" defer></script>
  </body>
</html>
