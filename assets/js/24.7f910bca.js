(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{174:function(a,t,e){"use strict";e.r(t);var r=e(0),s=Object(r.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"content"},[e("h1",{attrs:{id:"课程目标"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#课程目标","aria-hidden":"true"}},[a._v("#")]),a._v(" 课程目标")]),a._v(" "),e("p",[a._v("分析 Vue3 源码\n使用 Vue3 进行简单列表的开发")]),a._v(" "),e("h1",{attrs:{id:"知识要点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#知识要点","aria-hidden":"true"}},[a._v("#")]),a._v(" 知识要点")]),a._v(" "),e("h2",{attrs:{id:"响应式源码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#响应式源码","aria-hidden":"true"}},[a._v("#")]),a._v(" 响应式源码")]),a._v(" "),e("h2",{attrs:{id:"proxy-对象"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#proxy-对象","aria-hidden":"true"}},[a._v("#")]),a._v(" Proxy 对象")]),a._v(" "),e("p",[a._v("只能代理对象，不能代理简单值。\n在 Proxy 的 handle 中在取值和赋值的方法中分别插入劫持的方法，依赖的追踪以及副作用的触发(track, trigger)")]),a._v(" "),e("ul",[e("li",[a._v("track 收集依赖")]),a._v(" "),e("li",[a._v("trigger 触发副作用")]),a._v(" "),e("li",[a._v("effect 副作用函数")]),a._v(" "),e("li",[a._v("reactive/ref 基于普通对象创建代理对象的方法")]),a._v(" "),e("li",[a._v("watch, computed")])]),a._v(" "),e("p",[a._v("重点查看 Ref, Reactive 赋予响应式的源码\nreactivity.esm-browser.js")]),a._v(" "),e("h4",{attrs:{id:"ref"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ref","aria-hidden":"true"}},[a._v("#")]),a._v(" Ref")]),a._v(" "),e("p",[a._v("trackRefValue\ntriggerRefValue")]),a._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("function")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("ref")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[a._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("return")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("createRef")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("value"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("false")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),e("p",[a._v("ref 中使用类的"),e("code",[a._v("get value() {} set value(value) {}")]),a._v(" 进行响应式拦截\nreactive 中使用了 new Proxy 进行代理")]),a._v(" "),e("p",[a._v("baseHandlers collectionHandlers")]),a._v(" "),e("h2",{attrs:{id:"effect"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#effect","aria-hidden":"true"}},[a._v("#")]),a._v(" effect")]),a._v(" "),e("p",[a._v("trackEffects")]),a._v(" "),e("h2",{attrs:{id:"虚拟-dom"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#虚拟-dom","aria-hidden":"true"}},[a._v("#")]),a._v(" 虚拟 DOM")]),a._v(" "),e("p",[a._v("vue.esm-browser.js")]),a._v(" "),e("p",[a._v("diff patch 算法")]),a._v(" "),e("p",[a._v("patchUnkeyedChildren\npatchKeyedChildren")]),a._v(" "),e("h2",{attrs:{id:"实战"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#实战","aria-hidden":"true"}},[a._v("#")]),a._v(" 实战")]),a._v(" "),e("h1",{attrs:{id:"补充知识点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#补充知识点","aria-hidden":"true"}},[a._v("#")]),a._v(" 补充知识点")]),a._v(" "),e("p",[a._v("Map 和 WeakMap\nMap 是强引用，WeakMap 是弱引用，而且 key 值只能是一个对象")])])}],!1,null,null,null);t.default=s.exports}}]);